<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:osgi="http://www.springframework.org/schema/osgi"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/osgi  
       http://www.springframework.org/schema/osgi/spring-osgi-1.0.xsd
       http://www.springframework.org/schema/beans   
       http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
       
       <osgi:reference id="iddFactoryService" interface="rina.idd.api.InterDIFDirectoryFactory"/>
       <osgi:reference-list interface="rina.ipcprocess.api.IPCProcessFactory"
			availability="optional">
			<osgi:reference-listener ref="ipcmanager"
				bind-method="ipcProcessFactoryAdded" unbind-method="ipcProcessFactoryRemoved" />
		</osgi:reference-list>
       
       <!--  Export the IPCManager to the OSGi registry-->
    	<osgi:service id="ipcManagerService" ref="ipcmanager">
     		<osgi:interfaces>
 				<value>rina.ipcmanager.api.IPCManager</value>
 			</osgi:interfaces>
   		 </osgi:service>

</beans>
